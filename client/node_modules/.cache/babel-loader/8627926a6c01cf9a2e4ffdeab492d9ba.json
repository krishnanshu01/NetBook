{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Fragment}from'react';import{connect}from'react-redux';import Moment from'react-moment';import{Link}from'react-router-dom';import{addLike,removeLike,deletePost}from'../../actions/post';var PostItem=function PostItem(_ref){var deletePost=_ref.deletePost,addLike=_ref.addLike,removeLike=_ref.removeLike,auth=_ref.auth,_ref$post=_ref.post,_id=_ref$post._id,text=_ref$post.text,name=_ref$post.name,avator=_ref$post.avator,user=_ref$post.user,likes=_ref$post.likes,comments=_ref$post.comments,date=_ref$post.date,showActions=_ref.showActions;return/*#__PURE__*/_jsxs(\"div\",{class:\"post bg-white p-1 my-1\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/profile/\".concat(user),children:[/*#__PURE__*/_jsx(\"img\",{class:\"round-img\",src:\"//www.gravatar.com/avatar/096020b84d1fe75463eb00482350fb56?s=200&r=pg&d=mm\",alt:\"\"}),/*#__PURE__*/_jsx(\"h4\",{children:name})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{class:\"my-1\",children:[text,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{class:\"post-date\",children:[\"Posted on \",/*#__PURE__*/_jsx(Moment,{format:\"YYYY/MM/DD\",children:date})]}),showActions&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(e){return addLike(_id);},type:\"button\",class:\"btn btn-light\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-thumbs-up\"}),' ',/*#__PURE__*/_jsx(\"span\",{children:likes.length>0&&/*#__PURE__*/_jsx(\"span\",{children:likes.length})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return removeLike(_id);},type:\"button\",class:\"btn btn-light\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-thumbs-down\"})}),/*#__PURE__*/_jsxs(Link,{to:\"/post/\".concat(_id),class:\"btn btn-primary\",children:[\"Discussion\",' ',comments.length>0&&/*#__PURE__*/_jsx(\"span\",{class:\"comment-count\",children:comments.length})]}),!auth.loading&&user===auth.user._id&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return deletePost(_id);},type:\"button\",class:\"btn btn-danger\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-times\"})})]})]})]});};PostItem.defaultProps={showActions:true};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,{addLike:addLike,removeLike:removeLike,deletePost:deletePost})(PostItem);","map":{"version":3,"sources":["/home/rahul/Desktop/myfolder/projects/webdevelopment/third/client/src/components/posts/PostItem.js"],"names":["React","Fragment","connect","Moment","Link","addLike","removeLike","deletePost","PostItem","auth","post","_id","text","name","avator","user","likes","comments","date","showActions","e","length","loading","defaultProps","mapStateToProps","state"],"mappings":"wFAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAA+B,OAA/B,CAEA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAQC,CAAAA,MAAR,KAAqB,cAArB,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,OAAQC,OAAR,CAAkBC,UAAlB,CAA+BC,UAA/B,KAAgD,oBAAhD,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,UAAED,CAAAA,UAAF,MAAEA,UAAF,CAAaF,OAAb,MAAaA,OAAb,CAAsBC,UAAtB,MAAsBA,UAAtB,CAAkCG,IAAlC,MAAkCA,IAAlC,gBAAyCC,IAAzC,CAAiDC,GAAjD,WAAiDA,GAAjD,CAAuDC,IAAvD,WAAuDA,IAAvD,CAA8DC,IAA9D,WAA8DA,IAA9D,CAAqEC,MAArE,WAAqEA,MAArE,CAA8EC,IAA9E,WAA8EA,IAA9E,CAAqFC,KAArF,WAAqFA,KAArF,CAA6FC,QAA7F,WAA6FA,QAA7F,CAAwGC,IAAxG,WAAwGA,IAAxG,CAA8GC,WAA9G,MAA8GA,WAA9G,oBACV,aAAK,KAAK,CAAC,wBAAX,wBACC,kCACE,MAAC,IAAD,EAAM,EAAE,oBAAcJ,IAAd,CAAR,wBACE,YACE,KAAK,CAAC,WADR,CAEE,GAAG,CAAE,4EAFP,CAGE,GAAG,CAAC,EAHN,EADF,cAME,oBAAKF,IAAL,EANF,GADF,EADD,cAWC,oCACE,WAAG,KAAK,CAAC,MAAT,WAAiBD,IAAjB,OADF,cAEG,WAAG,KAAK,CAAC,WAAT,qCACa,KAAC,MAAD,EAAQ,MAAM,CAAC,YAAf,UAA6BM,IAA7B,EADb,GAFH,CAKGC,WAAW,eAAI,MAAC,QAAD,yBACd,gBAAQ,OAAO,CAAE,iBAAAC,CAAC,QAAIf,CAAAA,OAAO,CAACM,GAAD,CAAX,EAAlB,CAAoC,IAAI,CAAC,QAAzC,CAAkD,KAAK,CAAC,eAAxD,wBACA,UAAG,KAAK,CAAC,kBAAT,EADA,CACiC,GADjC,cAED,sBAAOK,KAAK,CAACK,MAAN,CAAe,CAAf,eAAoB,sBAAQL,KAAK,CAACK,MAAd,EAA3B,EAFC,GADc,cAKhB,eAAQ,OAAO,CAAE,iBAAAD,CAAC,QAAId,CAAAA,UAAU,CAACK,GAAD,CAAd,EAAlB,CAAuC,IAAI,CAAC,QAA5C,CAAqD,KAAK,CAAC,eAA3D,uBACE,UAAG,KAAK,CAAC,oBAAT,EADF,EALgB,cAQhB,MAAC,IAAD,EAAM,EAAE,iBAAWA,GAAX,CAAR,CAA0B,KAAK,CAAC,iBAAhC,wBACa,GADb,CACkBM,QAAQ,CAACI,MAAT,CAAkB,CAAlB,eAAuB,aAAM,KAAK,CAAC,eAAZ,UAA6BJ,QAAQ,CAACI,MAAtC,EADzC,GARgB,CAWf,CAACZ,IAAI,CAACa,OAAN,EAAiBP,IAAI,GAAKN,IAAI,CAACM,IAAL,CAAUJ,GAApC,eACD,eAAS,OAAO,CAAE,iBAAAS,CAAC,QAAIb,CAAAA,UAAU,CAACI,GAAD,CAAd,EAAnB,CAAwC,IAAI,CAAC,QAA7C,CACA,KAAK,CAAC,gBADN,uBAEA,UAAG,KAAK,CAAC,cAAT,EAFA,EAZgB,GALlB,GAXD,GADU,EAAjB,CAwCAH,QAAQ,CAACe,YAAT,CAAwB,CACtBJ,WAAW,CAAG,IADQ,CAAxB,CAaA,GAAMK,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,QAAK,CAC9BhB,IAAI,CAAGgB,KAAK,CAAChB,IADiB,CAAL,EAA7B,CAGA,cAAeP,CAAAA,OAAO,CAACsB,eAAD,CAAmB,CAACnB,OAAO,CAAPA,OAAD,CAAWC,UAAU,CAAVA,UAAX,CAAwBC,UAAU,CAAVA,UAAxB,CAAnB,CAAP,CAAgEC,QAAhE,CAAf","sourcesContent":["import React , {Fragment} from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux';\nimport  Moment  from 'react-moment';\nimport {Link} from 'react-router-dom';\nimport {addLike , removeLike , deletePost} from '../../actions/post'\n\nconst PostItem = ({deletePost,addLike ,removeLike, auth , post : {_id , text , name , avator , user , likes , comments , date},showActions\n})=>  (<div class=\"post bg-white p-1 my-1\">\n        <div>\n          <Link to={`/profile/${user}`}>\n            <img\n              class=\"round-img\"\n              src={\"//www.gravatar.com/avatar/096020b84d1fe75463eb00482350fb56?s=200&r=pg&d=mm\"}\n              alt=\"\"\n            />\n            <h4>{name}</h4>\n          </Link>\n        </div>\n        <div>\n          <p class=\"my-1\">{text} </p>\n           <p class=\"post-date\">\n              Posted on <Moment format='YYYY/MM/DD'>{date}</Moment>\n          </p>\n          {showActions && <Fragment>\n            <button onClick={e => addLike(_id)} type=\"button\" class=\"btn btn-light\">\n            <i class=\"fas fa-thumbs-up\"></i>{' '}\n           <span>{likes.length > 0 && <span >{likes.length}</span>}</span> \n          </button>\n          <button onClick={e => removeLike(_id)} type=\"button\" class=\"btn btn-light\">\n            <i class=\"fas fa-thumbs-down\"></i>\n          </button>\n          <Link to={`/post/${_id}`} class=\"btn btn-primary\">\n            Discussion{' '}{comments.length > 0 && <span class='comment-count'>{comments.length}</span>}\n          </Link>\n          {!auth.loading && user === auth.user._id && (\n          <button  onClick={e => deletePost(_id)} type=\"button\"\n          class=\"btn btn-danger\">\n          <i class=\"fas fa-times\"></i>\n        </button>\n          )}\n          </Fragment>}\n         \n        </div>\n      </div>\n)\n\nPostItem.defaultProps = {\n  showActions : true\n}\n\nPostItem.propTypes = {\n\n    post: PropTypes.object.isRequired,\n    auth: PropTypes.object.isRequired,\n    addLike: PropTypes.func.isRequired,\n    removeLike: PropTypes.func.isRequired,\n    deletePost:PropTypes.func.isRequired\n}\n\nconst mapStateToProps = state => ({\n    auth : state.auth\n})\nexport default connect(mapStateToProps , {addLike , removeLike , deletePost}) (PostItem)\n"]},"metadata":{},"sourceType":"module"}
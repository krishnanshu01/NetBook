{"ast":null,"code":"import _regeneratorRuntime from\"/home/rahul/Desktop/myfolder/projects/webdevelopment/third/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/rahul/Desktop/myfolder/projects/webdevelopment/third/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{setAlert}from'./alert';import{GET_POSTS,POST_ERROR,UPDATE_LIKES,DELETE_POST,ADD_POST,GET_POST,ADD_COMMENT,REMOVE_COMMENT}from'./types';//get posts\nexport var getPosts=function getPosts(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/api/post');case 3:res=_context.sent;dispatch({type:GET_POSTS,payload:res.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:POST_ERROR,payload:{msg:_context.t0.response.statusText,status:_context.t0.response.status}});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x){return _ref.apply(this,arguments);};}();};//Add like\nexport var addLike=function addLike(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.put(\"/api/post/like/\".concat(id));case 3:res=_context2.sent;dispatch({type:UPDATE_LIKES,payload:{id:id,likes:res.data}});_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);dispatch({type:POST_ERROR,payload:{msg:_context2.t0.response.statusText,status:_context2.t0.response.status}});case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};//remove like\nexport var removeLike=function removeLike(id){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.put(\"/api/post/unlike/\".concat(id));case 3:res=_context3.sent;dispatch({type:UPDATE_LIKES,payload:{id:id,likes:res.data}});_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);dispatch({type:POST_ERROR,payload:{msg:_context3.t0.response.statusText,status:_context3.t0.response.status}});case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};//delete post\nexport var deletePost=function deletePost(id){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:try{axios.delete(\"/api/post/\".concat(id));dispatch({type:DELETE_POST,payload:id});dispatch(setAlert('Post Removed','success'));}catch(err){dispatch({type:POST_ERROR,payload:{msg:err.response.statusText,status:err.response.status}});}case 1:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}();};//Add post\nexport var addPost=function addPost(formData){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var config,res;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:config={headers:{'Content-Type':'application/json'}};_context5.prev=1;_context5.next=4;return axios.post('/api/post',formData,config);case 4:res=_context5.sent;dispatch({type:ADD_POST,payload:res.data});dispatch(setAlert('Post Created','success'));_context5.next=12;break;case 9:_context5.prev=9;_context5.t0=_context5[\"catch\"](1);dispatch({type:POST_ERROR,payload:{msg:_context5.t0.response.statusText,status:_context5.t0.response.status}});case 12:case\"end\":return _context5.stop();}}},_callee5,null,[[1,9]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};//get post\nexport var getPost=function getPost(id){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){var res;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return axios.get(\"/api/post/\".concat(id));case 3:res=_context6.sent;dispatch({type:GET_POST,payload:res.data});_context6.next=10;break;case 7:_context6.prev=7;_context6.t0=_context6[\"catch\"](0);dispatch({type:POST_ERROR,payload:{msg:_context6.t0.response.statusText,status:_context6.t0.response.status}});case 10:case\"end\":return _context6.stop();}}},_callee6,null,[[0,7]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();};//Add Comment\nexport var addComment=function addComment(postId,formData){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){var config,res;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:config={headers:{'Content-Type':'application/json'}};_context7.prev=1;_context7.next=4;return axios.post(\"/api/post/comment/\".concat(postId),formData,config);case 4:res=_context7.sent;dispatch({type:ADD_COMMENT,payload:res.data});dispatch(setAlert('Comment Added','success'));_context7.next=12;break;case 9:_context7.prev=9;_context7.t0=_context7[\"catch\"](1);dispatch({type:POST_ERROR,payload:{msg:_context7.t0.response.statusText,status:_context7.t0.response.status}});case 12:case\"end\":return _context7.stop();}}},_callee7,null,[[1,9]]);}));return function(_x7){return _ref7.apply(this,arguments);};}();};//Delete Comment\nexport var removeComment=function removeComment(postId,commentId){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){var res;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return axios.delete(\"/api/post/comment/\".concat(postId,\"/\").concat(commentId));case 3:res=_context8.sent;dispatch({type:REMOVE_COMMENT,payload:commentId});dispatch(setAlert('Comment Removed','success'));_context8.next=11;break;case 8:_context8.prev=8;_context8.t0=_context8[\"catch\"](0);dispatch({type:POST_ERROR,payload:{msg:_context8.t0.response.statusText,status:_context8.t0.response.status}});case 11:case\"end\":return _context8.stop();}}},_callee8,null,[[0,8]]);}));return function(_x8){return _ref8.apply(this,arguments);};}();};","map":{"version":3,"sources":["/home/rahul/Desktop/myfolder/projects/webdevelopment/third/client/src/actions/post.js"],"names":["axios","setAlert","GET_POSTS","POST_ERROR","UPDATE_LIKES","DELETE_POST","ADD_POST","GET_POST","ADD_COMMENT","REMOVE_COMMENT","getPosts","dispatch","get","res","type","payload","data","msg","response","statusText","status","addLike","id","put","likes","removeLike","deletePost","delete","err","addPost","formData","config","headers","post","getPost","addComment","postId","removeComment","commentId"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { setAlert } from './alert';\nimport {\n    GET_POSTS,\n    POST_ERROR,\n    UPDATE_LIKES,\n    DELETE_POST,\n    ADD_POST,\n    GET_POST,\n    ADD_COMMENT,\n    REMOVE_COMMENT\n} from './types';\n\n//get posts\nexport const getPosts = () => async dispatch =>{\n    try{\n        const res = await axios.get('/api/post');\n\n        dispatch({\n            type: GET_POSTS,\n            payload: res.data\n        });\n    }catch(err){\n        dispatch({\n            type : POST_ERROR,\n            payload:{msg: err.response.statusText , status: err.response.status}\n        });\n     }\n    \n}\n\n//Add like\nexport const addLike = id => async dispatch =>{\n    try{\n        const res = await axios.put(`/api/post/like/${id}`);\n\n        dispatch({\n            type: UPDATE_LIKES,\n            payload: {id , likes: res.data}\n        });\n    }catch(err){\n        dispatch({\n            type : POST_ERROR,\n            payload:{msg: err.response.statusText , status: err.response.status}\n        });\n     }\n    \n}\n\n//remove like\nexport const removeLike = id => async dispatch =>{\n    try{\n        const res = await axios.put(`/api/post/unlike/${id}`);\n\n        dispatch({\n            type: UPDATE_LIKES,\n            payload: {id , likes: res.data}\n        });\n    }catch(err){\n        dispatch({\n            type : POST_ERROR,\n            payload:{msg: err.response.statusText , status: err.response.status}\n        });\n     }\n    \n}\n\n//delete post\nexport const deletePost = id => async dispatch =>{\n    try{\n       axios.delete(`/api/post/${id}`);\n\n        dispatch({\n            type: DELETE_POST,\n            payload: id\n        });\n\n        dispatch(setAlert('Post Removed' , 'success'));\n    }catch(err){\n        dispatch({\n            type : POST_ERROR,\n            payload:{msg: err.response.statusText , status: err.response.status}\n        });\n     }\n    \n}\n\n//Add post\nexport const addPost = formData => async dispatch =>{\n    const config = {\n        headers:{\n            'Content-Type': 'application/json'\n        }\n    }\n    try{\n       const res =  await axios.post('/api/post', formData , config);\n\n        dispatch({\n            type: ADD_POST,\n            payload: res.data\n        });\n\n        dispatch(setAlert('Post Created' , 'success'));\n    }catch(err){\n        dispatch({\n            type : POST_ERROR,\n            payload:{msg: err.response.statusText , status: err.response.status}\n        });\n     }\n    \n}\n\n//get post\nexport const getPost = id => async dispatch =>{\n    try{\n        const res = await axios.get(`/api/post/${id}`);\n\n        dispatch({\n            type: GET_POST,\n            payload: res.data\n        });\n    }catch(err){\n        dispatch({\n            type : POST_ERROR,\n            payload:{msg: err.response.statusText , status: err.response.status}\n        });\n     }\n    \n}\n\n//Add Comment\nexport const addComment = (postId , formData ) => async dispatch =>{\n    const config = {\n        headers:{\n            'Content-Type': 'application/json'\n        }\n    }\n    try{\n       const res =  await axios.post(`/api/post/comment/${postId}`, formData , config);\n\n        dispatch({\n            type: ADD_COMMENT,\n            payload: res.data\n        });\n\n        dispatch(setAlert('Comment Added' , 'success'));\n    }catch(err){\n        dispatch({\n            type : POST_ERROR,\n            payload:{msg: err.response.statusText , status: err.response.status}\n        });\n     }\n    \n}\n\n//Delete Comment\nexport const removeComment = (postId , commentId ) => async dispatch =>{\n    \n    try{\n       const res =  await axios.delete(`/api/post/comment/${postId}/${commentId}`);\n\n        dispatch({\n            type: REMOVE_COMMENT,\n            payload: commentId\n        });\n\n        dispatch(setAlert('Comment Removed' , 'success'));\n    }catch(err){\n        dispatch({\n            type : POST_ERROR,\n            payload:{msg: err.response.statusText , status: err.response.status}\n        });\n     }\n    \n}\n"]},"metadata":{},"sourceType":"module"}